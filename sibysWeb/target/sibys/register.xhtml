<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" lang="es"> 

<h:head>
	<meta charset="utf-8"/>
  	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  	<title>Sibys | Registrarse</title>
  	<meta name="viewport" content="width=device-width, initial-scale=1"/>
  	<!-- icheck bootstrap -->
  	<h:outputStylesheet library="plugins" name="icheck-bootstrap/icheck-bootstrap.min.css"/>
  	<!-- Select2 -->
  	<h:outputStylesheet library="plugins" name="select2/css/select2.min.css"/>
  	<h:outputStylesheet library="plugins" name="select2-bootstrap4-theme/select2-bootstrap4.min.css"/>
  	<!-- Theme style -->
  	<h:outputStylesheet library="css" name="adminlte.min.css"/>
  	<!-- Google Font: Source Sans Pro -->
  	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet"/>
  	<!-- Iconos -->
  	<!-- <h:outputStylesheet name="primeicons.css" library="css" /> -->
</h:head> 
<body class="hold-transition register-page">
	<div class="register-box" style="width: 55%;">
		<div class="register-logo">
    		<a href="javascript:void(0)"><b>Sibys</b> | Registrarse</a>
  		</div>
  		<div class="card">
    		<div class="card-body register-card-body">
      			<h5 class="login-box-msg">Formulario de registro</h5>
      			<h:form>
					<p:messages class="font-12" id="warn" showDetail="true" closable="true">
						<p:autoUpdate />
					</p:messages>
					<div class="row">
              			<div class="col-md-6">
		        			<div class="form-group">
		        				<p:outputLabel for="nombre" class="font-13" value="Nombre:" />
		          				<p:inputText required="true" maxlength="200" value="#{usuarioController.usuario.nombre}" id="nombre" class="form-control" placeholder="Nombre"/>		          					         				
		        			</div>
		        			<div class="form-group">
		        				<p:outputLabel for="apellido" class="font-13" value="Apellido:" />
		          				<p:inputText required="true" maxlength="200" value="#{usuarioController.usuario.apellido}" id="apellido" class="form-control" placeholder="Apellido"/>		          					          				
		        			</div>
		        			<div class="form-group">
		        				<p:outputLabel for="username" class="font-13" value="Usuario:" />
		          				<p:inputText required="true" maxlength="50" value="#{usuarioController.usuario.usuario}" id="username" class="form-control" placeholder="Usuario"/>		          						         				
		        			</div>
		        			<div class="form-group">
		        				<p:outputLabel for="clave" class="font-13" value="Contraseña:" />
		          				<p:password required="true" maxlength="50" value="#{usuarioController.usuario.clave}" id="clave" class="form-control" placeholder="Contraseña"/>        				
		        			</div>
	        			</div>
	        			<div class="col-md-6">
		        			<div class="form-group">
		        				<p:outputLabel for="email" class="font-13" value="Email:" />
		          				<p:inputText required="true" maxlength="200" value="#{usuarioController.usuario.email}" id="email" type="email" class="form-control" placeholder="Email"/>
		        			</div>
		        			
		        			<div class="form-group">
		        				<p:outputLabel for="selGrado" class="font-13" value="Grado:" />
								<h:selectOneMenu id="selGrado" required="true" value="#{usuarioController.gradoSeleccionado}" style="width: 100%;" class="form-control select2">
									<f:selectItem itemLabel="Seleccionar un Grado"/>
									<f:selectItems value="#{usuarioController.grados}" var="gra" itemLabel="#{gra.nombre}" itemValue="#{gra.id}" />
									<p:ajax listener="#{usuarioController.cargarGrados()}"/>
								</h:selectOneMenu>
							</div>

							<div class="form-group">
		        				<p:outputLabel for="selDependencia" class="font-13" value="Dependencia:" />
								<h:selectOneMenu id="selDependencia" required="true" value="#{usuarioController.dependenciaSeleccionado}" style="width: 100%;" class="form-control select2">
									<f:selectItem itemLabel="Seleccionar una Dependencia"/>
									<f:selectItems value="#{usuarioController.dependencias}" var="depe" itemLabel="#{depe.nombre}" itemValue="#{depe.id}" />
									<p:ajax listener="#{usuarioController.cargarDependencias()}" />
								</h:selectOneMenu>
							</div>

							<div class="form-group">
		        				<p:outputLabel for="selUnidad" class="font-13" value="Unidad:" />
								<h:selectOneMenu id="selUnidad" required="true" value="#{usuarioController.unidadSeleccionado}" style="width: 100%;" class="form-control select2">
									<f:selectItem itemLabel="Seleccionar una Unidad"/>
									<f:selectItems value="#{usuarioController.unidades}" var="uni" itemLabel="#{uni.nombre}" itemValue="#{uni.id}" />
									<p:ajax listener="#{usuarioController.cargarUnidades()}" />
								</h:selectOneMenu>
							</div>
		        		</div>
          				<div class="col-md-12" style="text-align: right;">
            				<h:commandButton value="Registrarse" action="#{usuarioController.register}" class="btn btn-primary"/>            				
            				<p:outputLabel value=""/>
          				</div>
        			</div>
      			</h:form>
      			<br/>
      			<p class="mb-0">
        			<a href="login.xhtml" class="text-center">Regresar al inicio</a>
      			</p>
    		</div>    
  		</div>
	</div>	
	<!-- Bootstrap 4 -->
	<h:outputScript library="plugins" name="bootstrap/js/bootstrap.bundle.min.js"/>
	<!-- AdminLTE App -->
	<h:outputScript library="js" name="adminlte.min.js"/>
	<!-- Select2 -->
	<h:outputScript library="plugins" name="select2/js/select2.full.min.js"/>
	<script>
	    jQuery(document).ready(function() {
	    	$('.select2').select2();
	    });
	</script>
</body>
</html>
